{{ define "main" }}
{{ define "main" }}

<!-- Title and summary -->
<div class="container mt-5" style="max-width:1000px;">
  <div class="row justify-content-center g-4">
    <div class="col-12 text-center">
      <h1 class="display-4 mb-2">{{ .Title }}</h1>
      <p class="lead text-muted">{{ .Summary }}</p>
    </div>
  </div>
</div>

<!-- Filter Buttons -->
<div class="container mb-4">
  <div class="btn-toolbar" role="toolbar">
    <i class="fas fa-filter me-2"></i>
    <div id="filters" class="btn-group" role="group">
      {{/* 从 Publications_tags 里取所有标签 */}}
      {{ range $name, $taxonomy := .Site.Taxonomies.publications_tags }}
        {{ $btnid := printf "js-iso-%s" (urlize $name) }}
        <input type="checkbox" class="btn-check" id="{{ $btnid }}" autocomplete="off" data-filter=".{{ $btnid }}">
        <label class="btn btn-outline-primary" for="{{ $btnid }}">{{ $name }}</label>
      {{ end }}
    </div>
  </div>
</div>

<!-- Publication Cards -->
<div class="container">
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4" id="publications-list">
    {{ range .Pages.ByPublishDate.Reverse }}
      <div class="col iso-card {{ range .Params.tags }}js-iso-{{ urlize . }} {{ end }}">
        {{ partial "card_book.html" . }}
      </div>
    {{ end }}
  </div>
</div>

{{ end }}
